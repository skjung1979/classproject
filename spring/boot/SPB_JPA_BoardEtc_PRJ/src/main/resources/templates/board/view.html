<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Member Join</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<!--내비게이션 시작-->
<div th:replace="fragment/nav"></div>
<!--내비게이션 끝-->

<!--부트스트랩 카드 시작-->
<div class="card m-3">
    <div class="card-header">
        View
    </div>
    <div class="card-body">

        <!-- 게시판 보기 시작-->

        <div class="mb-3">
            <label for="title" class="form-label">제목</label>
            <input type="text" class="form-control" id="title" name="title" th:value="${boardView.title}" readonly>
        </div>
        <div class="mb-3">
            <label for="writerv" class="form-label">작성자</label>
            <input type="text" class="form-control" id="writerv" name="writerv" th:value="${boardView.writer.memname}"
                   readonly>
            <input type="hidden" class="form-control" id="writer" name="writer" th:value="${boardView.writer.memcd}">
        </div>
        <div class="mb-3">
            <label for="content" class="form-label">내용</label>
            <textarea class="form-control" id="content" name="content" rows="7" th:text="${boardView.content}"
                      readonly></textarea>
        </div>
        <div class="mb-3">
            <label for="bphoto" class="form-label">첨부 사진</label>
            <input class="form-control" type="text" id="bphoto" name="bphoto" th:value="${boardView.bphoto}" readonly>
            <th:block th:if="${boardView.bphoto != null && (boardView.bphoto != '')}">
                <img th:src="@{/upload/bphoto/{name}(name=${boardView.bphoto})}" height="200" class="rounded float-start mt-3">
            </th:block>
        </div>
    </div>
    <div class="m-3">
        <!--            <th:block th:if="${authentication.principal.boardMember.idx} == ${boardView.writer.idx}">-->
        <a class="btn btn-outline-warning" th:href="@{/board/edit(bidx=${boardView.bidx},p=${pageNum})}">수정</a>
        <a class="btn btn-outline-danger" th:onclick="'deleteBoard(' + ${boardView.bidx} + ')'">삭제</a>
        <!--            </th:block>-->
        <a class="btn btn-outline-primary" th:href="@{/board/list(p=${pageNum})}">리스트</a>
    </div>
</div>
<!-- 게시판 보기 끝-->

<script>
    function deleteBoard(bidx){
        if (confirm("삭제하시겠습니까?")){
            location.href = '/board/delete?bidx=' + bidx;
        }
    }
</script>

</body>
</html>